<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Jogo de Pizza do Chef Gaetano</title>
    <style>
        body {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            margin: 0;
            font-family: Arial, sans-serif;
            background: linear-gradient(to right, #009246 33.33%, #FFFFFF 33.33%, #FFFFFF 66.66%, #CE2B37 66.66%);
        }
        canvas {
            background-color: rgba(255, 255, 255, 0.7);
        }
    </style>
</head>
<body>
    <canvas id="gameCanvas" width="400" height="400"></canvas>
    <audio id="pickupSound" src="data:audio/wav;base64,UklGRngGAABXQVZFZm10IBAAAAABAAEARKwAAIhYAQACABAAZGF0YQgGAACBhYqFbF1fdJivrJBhNjVgodDbq2EcBj+a2/LDciUFLIHO8tiKQwgZaLvt559pFQlQp+PqsHMcBj2T1eS1eSUFJ3nH5cSDRRAbaMLk249cHAxQnM/drnIqFTyQyNabYzcpMXWsoXpEJWOVsqZqNiJXiqijczsoWYOdkVwzN3STrZxVNVKEl5dMIjFqm7SNTj5ckp+hWDQ6fKGrmEMiRG+jtYhGKFF3rrBvLjVqprmIQiVahcOtVx8mbcu4ZiMRRs6+bmQWC1XcxGJOChFp4sdRPAcYevDFQysAHob4yEAg+hqM/NJBGPgVj/vYRBf9Io310EAR/DGT9sxBEvM2mvnTRxLvOpn70UwQ8ziY+9JQDvM6l/rSVA3zPZX41FcM8UGU+NNbC+9Ek/nSXgrtRpL61F4K7EiQ+9RgCetKjvzUYQnqTIz91WIJ6k2K/tVjCOlPiP/WZAjoUIf/1mUI6FKF/9dlCOdUgwDYZgfnVoIA2GcH5liAANlnB+RafwHaaAbkXH0C2mkG412A/9lnBuZhfwDaaQXoaooB1VsD7HMZC8Qp/vWDNAWtEPL5nFABmQTp+bJrAoAA4PfDhQV5B+P0wI4JgBDn8bmQDZUa7Oyvjg+tJfDqpIoPxTDy5pqGEthB9OOLdxLmT/bdgGgS8Vv62W5XFP9q/NVlRhQHePzRWjQPDIn+zUwoChWa/80+FwMcsP7QPw4AI7z+2V4dChS3/d96JwgNsvzohTQACLH78JlB+wWz+/anUPgCsvn9uGD1AbP4/8lr8gC19v/Zd+8AuPT/5YruALry/+6W7QC87v/1ouwAvuv//6vqAMDo/v+26ADB5v3/wOYAw+T9/8vkAMXh/P/W4gDH3/v/4eAAytz6/+3eAMzZ+f/52gDO1/j//9gA0NT3///WANPd///fz//X5///6sv/2u3///LH/9/8///2w//i///68f/o//////Ht//Tp/v/n4f/63Pv/383/+8n4//q9/Putzvv7mZv9+3xn/vplMv76UDP/+jAR//oQ+P/57+X/+dHO//mwvP/5jKH/+WhF//lCKP/5GAz/+e3N//js7//4y9n/+Kq1//iDhv/4WG3/+DAn//oG///7Bgb/+wYH//sICf/7CQv/+wsM//wNDv/8EBL//BIU//wVF//9GBv//Rsd//0eIf/9ISX//SQo//0nK//+KS3//Sww//4uM//+MTb//jM4//41O//+Nz3//jk///46QP/+PEL//j1D//4/Rf/+QEb//kFH//5CSP/+Q0n//kRK//5ES//+RUv//kVL//5GTP/+Rk3//kZN//5HTf/+R03//kdN//5HTf/+R03//kZN//5GTf/+Rk3//kZM//5FTP/+RUv//kRK//5DSf/+Qkj//kFH//5ARv/+P0X//j5D//49Qv/+O0H//jpA//44Pv/+Nz3//jU7//4zOf/+MTb//i80//4tMv/+KjD//ict//4lKv/9Iif//SAk//0eIf/9HB///RoD4AAAACAJMA=="></audio>
    <audio id="gameOverSound" src="data:audio/wav;base64,UklGRnoGAABXQVZFZm10IBAAAAABAAEARKwAAIhYAQACABAAZGF0YVAGAACBhYqFbF1fdJivrJBhNjVgodDbq2EcBj+a2/LDciUFLIHO8tiKQwgZaLvt559pFQlQp+PqsHMcBj2T1eS1eSUFJ3nH5cSDRRAbaMLk249cHAxQnM/drnIqFTyQyNabYzcpMXWsoXpEJWOVsqZqNiJXiqijczsoWYOdkVwzN3STrZxVNVKEl5dMIjFqm7SNTj5ckp+hWDQ6fKGrmEMiRG+jtYhGKFF3rrBvLjVqprmIQiVahcOtVx8mbcu4ZiMRRs6+bmQWC1XcxGJOChFp4sdRPAcYevDFQysAHob4yEAg+hqM/NJBGPgVj/vYRBf9Io310EAR/DGT9sxBEvM2mvnTRxLvOpn70UwQ8ziY+9JQDvM6l/rSVA3zPZX41FcM8UGU+NNbC+9Ek/nSXgrtRpL61F4K7EiQ+9RgCetKjvzUYQnqTIz91WIJ6k2K/tVjCOlPiP/WZAjoUIf/1mUI6FKF/9dlCOdUgwDYZgfnVoIA2GcH5liAANlnB+RafwHaaAbkXH0C2mkG412A/9lnBuZhfwDaaQXoaooB1VsD7HMZC8Qp/vWDNAWtEPL5nFABmQTp+bJrAoAA4PfDhQV5B+P0wI4JgBDn8bmQDZUa7Oyvjg+tJfDqpIoPxTDy5pqGEthB9OOLdxLmT/bdgGgS8Vv62W5XFP9q/NVlRhQHePzRWjQPDIn+zUwoChWa/80+FwMcsP7QPw4AI7z+2V4dChS3/d96JwgNsvzohTQACLH78JlB+wWz+/anUPgCsvn9uGD1AbP4/8lr8gC19v/Zd+8AuPT/5YruALry/+6W7QC87v/1ouwAvuv//6vqAMDo/v+26ADB5v3/wOYAw+T9/8vkAMXh/P/W4gDH3/v/4eAAytz6/+3eAMzZ+f/52gDO1/j//9gA0NT3///WANPd///fz//X5///6sv/2u3///LH/9/8///2w//i///68f/o//////Ht//Tp/v/n4f/63Pv/383/+8n4//q9/Putzvv7mZv9+3xn/vplMv76UDP/+jAR//oQ+P/57+X/+dHO//mwvP/5jKH/+WhF//lCKP/5GAz/+e3N//js7//4y9n/+Kq1//iDhv/4WG3/+DAn//oG///7Bgb/+wYH//sICf/7CQv/+wsM//wNDv/8EBL//BIU//wVF//9GBv//Rsd//0eIf/9ISX//SQo//0nK//+KS3//Sww//4uM//+MTb//jM4//41O//+Nz3//jk///46QP/+PEL//j1D//4/Rf/+QEb//kFH//5CSP/+Q0n//kRK//5ES//+RUv//kVL//5GTP/+Rk3//kZN//5HTf/+R03//kdN//5HTf/+R03//kZN//5GTf/+Rk3//kZM//5FTP/+RUv//kRK//5DSf/+Qkj//kFH//5ARv/+P0X//j5D//49Qv/+O0H//jpA//44Pv/+Nz3//jU7//4zOf/+MTb//i80//4tMv/+KjD//ict//4lKv/9Iif//SAk//0eIf/9HB///RoD4AAAACAJMA=="></audio>

    <script>
        const canvas = document.getElementById('gameCanvas');
        const ctx = canvas.getContext('2d');
        const pickupSound = document.getElementById('pickupSound');
        const gameOverSound = document.getElementById('gameOverSound');

        let player = [{ x: 10, y: 10 }];
        let pizza = { x: 15, y: 15 };
        let dx = 0;
        let dy = 0;
        let score = 0;
        let highScore = 0;
        let gameSpeed = 200;
        let gameLoop;
        let isPaused = false;

        function drawGame() {
            if (isPaused) return;

            ctx.clearRect(0, 0, canvas.width, canvas.height);

            // Desenha o jogador
            ctx.font = '20px Arial';
            player.forEach((segment, index) => {
                ctx.fillText(index === 0 ? 'üë®‚Äçüç≥' : 'üë®', segment.x * 20, segment.y * 20 + 20);
            });

            // Desenha a pizza
            ctx.fillText('üçï', pizza.x * 20, pizza.y * 20 + 20);

            // Desenha a pontua√ß√£o
            ctx.fillStyle = 'black';
            ctx.font = '20px Arial';
            ctx.fillText(`Pontua√ß√£o: ${score} | Recorde: ${highScore}`, 10, 30);

            movePlayer();
            checkCollision();
            checkDifficulty();
        }

        function movePlayer() {
            let head = { x: player[0].x + dx, y: player[0].y + dy };
            
            if (head.x < 0 || head.x > 19 || head.y < 0 || head.y > 19) {
                gameOver();
                return;
            }

            player.unshift(head);
            if (player.length > Math.floor(score / 20) + 1) {
                player.pop();
            }
        }

        function checkCollision() {
            if (player[0].x === pizza.x && player[0].y === pizza.y) {
                score++;
                if (score > highScore) {
                    highScore = score;
                }
                generatePizza();
                pickupSound.play();
                if (score % 10 === 0) {
                    showPromoMessage();
                }
            }
        }

        function generatePizza() {
            pizza.x = Math.floor(Math.random() * 18) + 1;
            pizza.y = Math.floor(Math.random() * 18) + 1;
        }

        function checkDifficulty() {
            if (score === 20) {
                gameSpeed = Math.floor(gameSpeed * 0.8);
            } else if (score === 40) {
                gameSpeed = Math.floor(gameSpeed * 0.8);
            }
            clearInterval(gameLoop);
            gameLoop = setInterval(drawGame, gameSpeed);
        }

        function gameOver() {
            clearInterval(gameLoop);
            gameOverSound.play();
            alert(`Fim de jogo! Sua pontua√ß√£o: ${score}`);
            player = [{ x: 10, y: 10 }];
            dx = 0;
            dy = 0;
            score = 0;
            gameSpeed = 200;
            isPaused = false;
            gameLoop = setInterval(drawGame, gameSpeed);
        }

        function showPromoMessage() {
            isPaused = true;
            const message = score % 20 === 0 ? "Chef Gaetano" : "Pizzaria Bella Napoli";
            alert(message);
            setTimeout(() => {
                isPaused = false;
            }, 2000);
        }

        function handleKeyDown(e) {
            switch(e.key) {
                case 'ArrowLeft': dx = -1; dy = 0; break;
                case 'ArrowRight': dx = 1; dy = 0; break;
                case 'ArrowUp': dx = 0; dy = -1; break;
                case 'ArrowDown': dx = 0; dy = 1; break;
            }
        }

        canvas.addEventListener('touchstart', handleTouchStart, false);
        canvas.addEventListener('touchmove', handleTouchMove, false);
        document.addEventListener('keydown', handleKeyDown);

        let xDown = null;
        let yDown = null;

        function handleTouchStart(evt) {
            const firstTouch = evt.touches[0];
            xDown = firstTouch.clientX;
            yDown = firstTouch.clientY;
        }

        function handleTouchMove(evt) {
            if (!xDown || !yDown) return;

            const xUp = evt.touches[0].clientX;
            const yUp = evt.touches[0].clientY;
            const xDiff = xDown - xUp;
            const yDiff = yDown - yUp;

            if (Math.abs(xDiff) > Math.abs(yDiff)) {
                dx = xDiff > 0 ? -1 : 1;
                dy = 0;
            } else {
                dx = 0;
                dy = yDiff > 0 ? -1 : 1;
            }

            xDown = null;
            yDown = null;
        }

        function showInstructions() {
            const instructions = `
            Como jogar:
            - Deslize na tela ou use as setas do teclado para mover o chap√©u do chef.
            - Colete as fatias de pizza para marcar pontos.
            - A velocidade aumenta a cada 20 pontos.
            - Tente bater seu pr√≥prio recorde!
            
            Divirta-se na Pizzaria Bella Napoli do Chef Gaetano!
            `;
            alert(instructions);
        }

        showInstructions();
        gameLoop = setInterval(drawGame, gameSpeed);
    </script>
</body>
</html>
